(this["webpackJsonpwww-player"]=this["webpackJsonpwww-player"]||[]).push([[0],{117:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(11),r=n.n(c),i=(n(98),n(15)),o=n(16),l=n(18),u=n(17),d=n(64),b=n.n(d),j=n(185),m=n(183),f=n(188),g=n(186),h=(n(117),n(10));var O=function(e){return Object(h.jsxs)("div",{className:"message-container",children:[Object(h.jsx)("div",{className:"message-item",children:e.message}),Object(h.jsx)("div",{className:"avator"})]})},v=(n(119),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.barrageList;return Object(h.jsx)("div",{className:"barrage-list-container",style:{overflowY:"auto"},children:Object(h.jsx)("div",{className:"barrage-list-content",children:e.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(O,{message:e.message})},e.id)}))})})}}]),n}(a.Component)),p=n(184),x=n(187),C=(n(120),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.onSend,a=e.message;return Object(h.jsxs)("div",{className:"barrage-input-container",children:[Object(h.jsx)(p.a,{className:"barrage-input",onChange:function(e){return t(e)},value:a,maxLength:120,showLimitHint:!0,cutString:!0})," ",Object(h.jsx)(x.a,{className:"barrage-btn",type:"primary",onClick:n,children:"\u8f93\u5165"})]})}}]),n}(a.Component)),N=n(182),w=(n(165),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){},a.changeEdit=function(){a.setState({isEdit:!0})},a.changeName=function(e){a.setState({name:e})},a.resetName=function(){var e=a.state.name;a.props.setName(e),a.setState({isEdit:!1})},a.state={isEdit:!1,name:e.name},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state.isEdit,t=this.props.name;return Object(h.jsx)("div",{className:"barrage-topbar-container",children:e?Object(h.jsxs)("div",{className:"edit-container",children:[Object(h.jsx)(p.a,{defaultValue:t,onChange:this.changeName,className:"name-input"}),Object(h.jsx)(x.a,{onClick:this.resetName,type:"primary",size:"small",className:"name-btn",children:"\u786e\u5b9a\u4fee\u6539"})]}):Object(h.jsxs)("div",{className:"edit-container",children:[Object(h.jsx)("div",{className:"name-tag",children:t}),Object(h.jsx)(N.a,{type:"edit",onClick:this.changeEdit})]})})}}]),n}(a.Component));n(166);b.a.defaults.baseURL="/api";var k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).updateHeight=void 0,a.componentDidMount=function(){var e=window.localStorage.getItem("devs-id");if(!e){var t=Object(g.a)().replace("-","").substr(0,5);e="devs-".concat(t)}a.setState({name:e}),window.localStorage.setItem("devs-id",e),a.updateHeight=function(){a.forceUpdate()},window.addEventListener("resize",a.updateHeight)},a.componentWillUnmount=function(){window.removeEventListener("resize",a.updateHeight)},a.setMessage=function(e){a.setState({message:e})},a.sendMessage=function(){var e=a.state,t=e.barrageList,n=e.message,s=e.name,c=e.color;if(n)if(n.length>120)j.a.error({title:"\u5f39\u5e55\u5b57\u6570\u4e0d\u80fd\u8d85\u8fc7120\u4e2a"});else{b.a.post("/send",{fromId:s||"",fromName:s||"",message:n,color:c});var r={message:n,id:Date.now()};t.push(r),a.setState({barrageList:t,message:""})}else j.a.warning({title:"\u8bf7\u8f93\u5165\u5b57\u7b26"})},a.setName=function(e){a.setState({name:e}),window.localStorage.setItem("devs-id",e)},a.setColor=function(e,t){a.setState({color:e,colorLabel:t})},a.state={barrageList:[],message:"",name:"",color:"blue",colorLabel:"\u70ab\u5f69\u5c4f\u5e55"},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.barrageList,a=t.message,s=t.name,c=t.colorLabel,r=t.color,i=Object(h.jsxs)(m.a,{children:[Object(h.jsx)(m.a.Item,{style:{backgroundColor:"#ec2d7a",color:"#fff"},onClick:function(){return e.setColor("#ec2d7a","\u85cf\u82b1\u7ea2")},children:"\u85cf\u82b1\u7ea2"}),Object(h.jsx)(m.a.Item,{style:{backgroundColor:"#cc163a",color:"#fff"},onClick:function(){return e.setColor("#cc163a","\u5c16\u6676\u7ea2\u7389")},children:"\u5c16\u6676\u7ea2\u7389"}),Object(h.jsx)(m.a.Item,{style:{backgroundColor:"#8076a3",color:"#fff"},onClick:function(){return e.setColor("#8076a3","\u85e4\u841d\u7d2b")},children:"\u85e4\u841d\u7d2b"}),Object(h.jsx)(m.a.Item,{style:{backgroundColor:"#11659a",color:"#fff"},onClick:function(){return e.setColor("#11659a","\u642a\u74f7\u84dd")},children:"\u642a\u74f7\u84dd"}),Object(h.jsx)(m.a.Item,{style:{backgroundColor:"#55bb8a",color:"#fff"},onClick:function(){return e.setColor("#55bb8a","\u9ea6\u82d7\u7eff")},children:"\u9ea6\u82d7\u7eff"})]});return Object(h.jsxs)("div",{className:"barrage-container",style:{height:window.innerHeight},children:[Object(h.jsx)("div",{className:"tool-tip",children:Object(h.jsx)(f.a,{trigger:Object(h.jsx)("button",{className:"tip-btn",style:{backgroundColor:r,color:"white"},children:c}),triggerType:["click"],afterOpen:function(){return console.log("after open")},children:i})}),Object(h.jsx)(w,{name:s,setName:this.setName}),Object(h.jsx)(v,{barrageList:n}),Object(h.jsx)(C,{onChange:this.setMessage,onSend:this.sendMessage,message:a})]})}}]),n}(a.Component);n(178),n(179);var y=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(k,{})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,189)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root")),L()},98:function(e,t,n){}},[[180,1,2]]]);
//# sourceMappingURL=main.6ca8a0e5.chunk.js.map